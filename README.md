# 進捗堂 (Shinchokudou) - AI搭載タスク・習慣管理アプリ

<div align="center">
  <img src="public/logo.png" alt="進捗堂ロゴ" width="200"/>
  <p>生産性向上のためのAI搭載タスク・習慣管理ソリューション</p>
</div>

## 📱 概要

**進捗堂**（Shinchokudou）は、AIを活用した次世代のタスク管理・習慣管理・ポモドーロアプリです。ユーザーの行動パターン、天気、時間帯などを考慮し、パーソナライズされたタスク・習慣提案を提供します。シンプルなUIと強力な機能を組み合わせ、継続的な生産性向上と良い習慣の形成をサポートします。

## ✨ 主要機能

### 🤖 AIタスク・習慣提案
- ユーザーの過去のタスク・習慣履歴を分析
- 現在の天気状況に基づいた最適な活動提案
- 時間帯に最適化されたアクティビティの推奨
- カテゴリ別（健康・学習・メンタルヘルス・生活習慣・人間関係）の包括的提案

### 📊 AIによる優先度設定
- タスクのコンテンツから自動的に優先度を判定
- キーワード分析による重要度の判別
- 期限との組み合わせによる最適な優先順位付け

### 🔄 習慣管理システム *(v1.6.0 新機能)*
- **柔軟な頻度設定**: 毎日・毎週・毎月の実行パターン
- **ストリーク管理**: 連続実行日数の記録と可視化
- **完了率統計**: 習慣ごとの達成率分析
- **リマインダー機能**: 指定時刻での実行通知
- **7日間アクティビティ**: 最近の実行状況をミニカレンダーで表示
- **習慣警告システム**: 20時頃の未完了習慣お知らせ
- **視覚的進捗表示**: アニメーション付きプログレスバー

### ⏱️ フローティングポモドーロタイマー *(v1.6.0 強化)*
- 25分の作業/5分の休憩のサイクル管理
- タスクに直接リンクされたタイマー
- **フローティング機能**: ドラッグ可能な画面上タイマー
- **ゲーム中継続**: ゲームプレイ中でもタイマー動作継続
- 通知とサウンドアラート機能
- 最小化/展開機能

### 🌤️ 天気連携
- 現在の天気に基づいたタスク・習慣提案
- 屋内/屋外活動の最適化
- 天気変化に応じた行動推奨

### 📅 デッドライン管理
- 期限切れや期限間近のタスクの視覚的警告
- タスク期限の簡単な設定と管理
- ダッシュボードで今日の締め切りを一目で把握

### 🎮 ゲームセンター機能
- **🦕 ディノラン**: Chromeの恐竜ゲーム風アクションゲーム
- **🐦 フラッピーバード**: パイプの隙間を通り抜けるスキルゲーム
- ポイント消費システム（5pt/プレイ）
- スコア記録・統計・プレイ履歴管理
- **v1.5.1で完全修正**: スマホでの動作速度問題とレスポンシブ対応

### 💎 ポイントシステム
- タスク完了でポイント獲得（優先度に応じて5-15pt）
- **習慣完了でポイント獲得（8pt）** *(v1.6.0 新機能)*
- サブタスク完了で追加ポイント（3pt）
- ログインボーナス（連続日数に応じて10-50pt）
- ゲームプレイでポイント消費
- ショップでのテーマ購入
- 総獲得ポイントの正確な管理

### 🛍️ ポイントショップ *(v1.6.0 新機能)*
- **グラデーション背景テーマ**: 美しい背景でアプリカスタマイズ
- **4段階レアリティ**: コモン・レア・エピック・レジェンダリー
- **価格帯**: 50pt〜250ptの幅広い選択肢
- **リアルタイム適用**: 購入後即座にテーマ変更

### 📝 サブタスク・メモ機能
- 大きなタスクを細かく分割して管理
- マークダウン対応のメモ機能
- 進捗バーでサブタスク完了状況を可視化
- 見積もり時間の設定

### 🎵 BGMプレイヤー
- 集中力を高める環境音楽
- ボリューム調整可能
- バックグラウンド再生対応

### 📱 PWA対応
- ホーム画面にインストール可能
- オフライン対応
- ネイティブアプリに近い操作感

### 🔄 自動タスク整理
- 完了したタスクは1週間後に自動削除
- 削除までの残り日数表示
- タスクリストの自動クリーンアップ

### 🔐 複数ログイン方法
- メールアドレスとパスワードでの会員登録
- Googleアカウントでのソーシャルログイン
- パスワードリセット機能

### 📊 ソート・フィルタ機能 *(v1.6.0 新機能)*
- **多様なソート**: 名前・ストリーク・時間・完了率・優先度順
- **フィルタ機能**: 完了済み・未完了・すべての表示切り替え
- **昇順・降順**: ワンクリックで並び順切り替え
- **リアルタイム更新**: 即座に結果を反映

## 🛠️ 技術スタック

- **フロントエンド**: Next.js, React, TypeScript
- **スタイリング**: Tailwind CSS, Framer Motion
- **状態管理**: Zustand
- **バックエンド**: Firebase (Authentication, Firestore)
- **PWA**: next-pwa
- **ゲームエンジン**: HTML5 Canvas, RequestAnimationFrame
- **AI機能**: 機械学習アルゴリズム, パターン分析
- **デプロイ**: Vercel

## 📦 プロジェクト構造

```
/
├── components/         # Reactコンポーネント
│   ├── HabitManager.tsx    # 習慣管理メイン画面
│   ├── HabitWarning.tsx    # 習慣リマインダー警告
│   ├── AIHabitSuggestions.tsx # AI習慣提案
│   ├── GameCenter.tsx      # ゲームセンター
│   └── Shop.tsx           # ポイントショップ
├── hooks/              # カスタムReactフック
├── lib/                # ユーティリティ関数・サービス
│   ├── aiHabitSuggestion.ts # AI習慣提案ロジック
│   ├── habitInterfaces.ts  # 習慣関連型定義
│   └── weatherService.ts   # 天気情報サービス
├── pages/              # Next.jsページコンポーネント
├── public/             # 静的アセット
│   ├── icons/          # PWA用アイコン
│   └── sounds/         # 効果音
├── store/              # Zustandストア定義
│   ├── habitStore.ts      # 習慣管理ストア
│   ├── themeStore.ts      # テーマ管理ストア
│   └── shopStore.ts       # ショップ管理ストア
└── styles/             # グローバルCSS定義
```

## 🚀 開発環境のセットアップ

### 前提条件
- Node.js 16.x以上
- npm または yarn
- Firebase プロジェクト

### インストール

```bash
# リポジトリのクローン
git clone https://github.com/yourusername/shinchokudou.git
cd shinchokudou

# 依存関係のインストール
npm install
# または
yarn install

# .env.localファイルをプロジェクトルートに作成し、必要な環境変数を設定
# Firebase設定
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_auth_domain
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_storage_bucket
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_messaging_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=your_measurement_id

# 開発サーバーの起動
npm run dev
# または
yarn dev
```

## 🎯 使い方

### 基本的な使い方
1. **アカウント作成**: メールアドレス・パスワードまたはGoogleアカウントでログイン
2. **タスク追加**: 「新しいタスクを追加」フォームでタスクを作成
3. **習慣追加**: 習慣管理タブから「新しい習慣」ボタンで習慣を作成
4. **AIの提案活用**: AIタスク提案・AI習慣提案セクションから提案された項目を追加
5. **ポイント獲得**: タスクや習慣を完了してポイントを貯める
6. **ゲーム・ショップ**: ゲームセンタータブでゲームを楽しみ、ショップでテーマ購入

### 習慣管理の使い方 *(v1.6.0 新機能)*
1. **習慣作成**: 習慣管理タブで「新しい習慣」をクリック
2. **頻度設定**: 毎日・毎週・毎月から選択
3. **リマインダー設定**: 実行したい時刻を指定
4. **完了チェック**: 明確な枠線付きチェックボタンで完了マーク
5. **ストリーク維持**: 連続実行日数を意識して継続
6. **統計確認**: 完了率や7日間のアクティビティを確認

### ゲームセンター
- **ディノラン**: ジャンプで障害物を避けるアクションゲーム
- **フラッピーバード**: パイプの隙間を通り抜けるスキルゲーム
- **プレイコスト**: 1回5ポイント（リトライも含む）
- **v1.5.1の改善**: スマートフォンでの快適なプレイを実現

### ポモドーロタイマー
1. タスクの「⏳」ボタンをクリックしてポモドーロを開始
2. フローティングタイマーが画面上に表示
3. ドラッグで好きな位置に移動可能
4. 25分間集中して作業
5. アラーム音で終了をお知らせ
6. 5分間の休憩（ゲーム中でも継続）
7. サイクルを繰り返す

## 💡 ヒントとコツ

- **ポイント効率**: 高優先度のタスクと習慣を優先して完了すると、より多くのポイントを獲得
- **習慣の継続**: 小さな習慣から始めて徐々に大きくする。ストリークを意識して継続モチベーション維持
- **ゲーム戦略**: リトライも新規プレイ扱いで5ポイント消費されるため、集中してプレイ
- **サブタスク活用**: 大きなタスクは細かく分けることで達成感とポイントを効率的に獲得
- **天気の活用**: AIの天気に基づいた提案を活用して、その日の環境に最適な活動を選択
- **ソート機能活用**: 習慣はストリーク順、タスクは優先度順など、状況に応じて使い分け
- **PWAとして使用**: ホーム画面に追加してネイティブアプリのように利用可能

## ⚙️ トラブルシューティング

### よくある問題と解決方法

**習慣管理関連**
- **習慣が追加できない**: ログイン状態を確認し、習慣名が入力されているか確認
- **習慣完了がチェックできない**: 明確な枠線付きチェックボタンをクリック
- **Firebase権限エラー**: 一度ログアウトして再ログインを試行

**音声・通知関連**
- **アラーム音が鳴らない**: ポモドーロタブの「アラーム音をテスト」ボタンでブラウザの音声権限を有効化
- **通知が表示されない**: ブラウザの通知設定で、このサイトからの通知を「許可」に設定

**その他**
- **ポイントが反映されない**: ページを再読み込み
- **PWAがインストールできない**: ブラウザがPWA対応か確認（iOS: Safari推奨、Android: Chrome推奨）

## 🔄 更新履歴

### v1.6.0 (最新) - 🔄 習慣管理・UI大幅強化アップデート
**🔄 習慣管理システム追加**
- 📊 包括的な習慣形成・継続管理機能
- 🤖 AI習慣提案: 天気・時間帯・履歴に基づくパーソナライズ提案
- 📈 習慣統計: ストリーク・完了率・7日間アクティビティの可視化
- ⏰ 習慣リマインダー: 20時頃の未完了習慣警告システム
- 💎 ポイント獲得拡張: 習慣完了で8ポイント獲得

**🎨 UI/UX大幅改善**
- 🔘 チェックボタン改善: 明確な枠線付きで視認性大幅向上
- 📋 ソート・フィルタ機能: 名前・ストリーク・時間・完了率での並び替え
- 🎨 グラデーション背景・進捗バー・バッジシステム
- 📱 レスポンシブ対応: モバイルでの習慣管理最適化

**🛍️ ポイントショップ・テーマシステム**
- 🛍️ ポイントショップ新登場: グラデーション背景テーマ購入
- 🎨 4段階レアリティの美しい背景テーマ
- ⏱️ フローティングポモドーロタイマー: ゲーム中でも継続動作
- 📊 タスクソート機能強化: 複数条件での並び替え

**🔐 セキュリティ・技術強化**
- 🔐 Firestore習慣データの包括的保護
- 📈 統計機能強化: 個別習慣の詳細分析・継続のヒント表示
- 💫 UI/UXアニメーション追加: スムーズなユーザー体験

### v1.5.1 - スマートフォン最適化アップデート
**🎮 ゲーム体験の大幅改善**
- 📱 スマートフォンでのゲーム動作速度問題を完全修正
- ⚡ ゲームのフレームレート制御を60FPSに統一
- 🎮 高リフレッシュレート端末でのゲーム動作を最適化
- 🔧 タッチイベントの重複処理を防止

**📐 レスポンシブデザイン対応**
- 📏 ディノラン: 横はみ出し問題を解決、キャンバスサイズ自動調整
- 🐦 フラッピーバード: 縦はみ出し問題を解決、画面サイズに応じた要素リサイズ
- 🎯 スマホ専用UI: タッチ操作に最適化されたゲーム説明文

**🕹️ ゲーム操作性向上**
- ⏱️ フラッピーバード: ゲームオーバー後3秒間の誤操作防止機能
- 🎮 リアルタイムカウントダウン表示
- 🖱️ 視覚的フィードバックの改善

**🐛 バグ修正**
- 🦕 ディノランの恐竜が床をすり抜ける問題を修正
- 🎯 確実な位置計算とオブジェクト配置の実装
- 📱 スマートフォンでの表示崩れ問題を解決

### v1.5.0 - ゲームセンター機能追加
- 🎮 ゲームセンター機能追加：ポイント消費型ミニゲーム機能
- 🦕 ディノランゲーム：Chromeの恐竜ゲーム風アクションゲーム
- 🐦 フラッピーバードゲーム：パイプの隙間を通り抜けるスキルゲーム
- 💎 ポイントシステム拡張：タスク完了、ログインボーナス、ゲーム消費の統合管理
- 📊 ゲーム統計機能：最高スコア、プレイ回数、平均スコア、消費ポイントの記録
- 📝 サブタスク機能：大きなタスクを細かく分割して管理
- 📄 メモ機能：マークダウン対応のタスク詳細記録
- 📈 拡張統計機能：タスクの複雑度計算、進捗可視化
- 💰 ポイント取り消し機能：タスク完了取り消し時の総獲得ポイント減算
- 🎯 見積もり時間機能：タスクの所要時間予測

### v1.4.0 - PWA対応
- PWA（Progressive Web App）対応：ホーム画面に追加して本格的アプリとして使用可能に
- メールアドレスとパスワードによるユーザー登録/ログイン機能の追加
- デスクトップビューのレイアウト改善
- 完了したタスクの自動削除機能を追加（完了から1週間後）

### v1.3.1 - 天気機能強化
- iOSダークモード時のテキスト表示問題を修正
- 天気データの統合サービスを実装し、タスク提案とダッシュボードの天気表示を同期
- 天気に基づくタスク提案の精度向上
- 天気データキャッシュ機能の追加によるパフォーマンス改善

### v1.2.0 - AIタスク提案
- AIタスク提案機能の追加
- 機械学習による自動優先度設定
- 天気に基づくタスク提案機能
- ポモドーロタイマーのサウンド修正

### v1.1.0 - BGM機能
- タブ型UIの導入
- BGMプレイヤーの追加
- バックグラウンド実行の対応

### v1.0.0 - 初回リリース
- 基本的なタスク管理
- ポモドーロタイマー
- Google認証ログイン

## 🤝 貢献

貢献は大歓迎です！バグ報告、機能リクエスト、プルリクエストなど、どんな形でも構いません。大きな変更を加える前に、まずはissueで提案してください。

## 👨‍💻 開発者

- **田中 敦喜** - [GitHub](https://github.com/atsukitanaka0922)

## 📞 お問い合わせ

アプリの不具合報告、機能要望、その他のお問い合わせは[お問い合わせフォーム](https://docs.google.com/forms/d/e/1FAIpQLSdENYnpf4xyn8Mli9TumjhRYrV1Zqt1RSJsDNeCREP0_5ghjA/viewform)からお願いします。

---

<div align="center">
  <p>&copy; 2025 進捗堂 - AI搭載タスク・習慣管理・ゲームアプリ v1.6.0</p>
  <p>🔄 ポイントショップ＆習慣管理機能追加 | 📱 PWA対応 | ⚡ 60FPS対応 | 🎨 テーマカスタマイズ</p>
</div>